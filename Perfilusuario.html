<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login y Registro - theFitStep</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css"
    rel="stylesheet">
  <!-- Estilos personalizados -->
  <link href="Styles.css" rel="stylesheet">
  <style>
    .form-container {
      margin-top: 30px;
    }

    .form-section {
      background-color: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease-in-out;
    }

    .form-section:hover {
      transform: scale(1.02);
    }

    .form-header {
      border-bottom: 2px solid #007bff;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }

    .form-check-label {
      cursor: pointer;
    }

    .btn-primary {
      background-color: #007bff;
      border: none;
      transition: background-color 0.3s ease-in-out, transform 0.2s ease;
    }

    .btn-primary:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }

    .footer {
      text-align: center;
      margin-top: 50px;
      padding: 20px;
      background-color: #000000;
      color: #fff;
    }

    .footer a {
      color: #fff;
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>

  <header>
    <!-- Barra de Navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <img src="assets/Logo.png" alt="theFitStep" style="height: 80px;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
            <li class="nav-item"><a class="nav-link" href="Hombres.html">Hombres</a></li>
            <li class="nav-item"><a class="nav-link" href="Mujeres.html">Mujeres</a></li>
            <li class="nav-item"><a class="nav-link" href="Sobrenosotros.html">Sobre Nosotros</a></li>
            <li class="nav-item"><a class="nav-link" href="Perfilusuario.html"><i class="bi bi-person"></i></a></li>
            <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-cart"></i></a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Login y Registro -->
  <div class="container form-container pb-5">
    <div class="row justify-content-between g-4">

      <!-- Clientes Registrados -->
      <div class="col-md-5 form-section">
        <h3 class="form-header">Clientes Registrados</h3>
        <form onsubmit="iniciarSesion(); return false;">
          <div class="mb-3">
            <label for="email" class="form-label">E-mail</label>
            <input type="email" class="form-control" id="email" placeholder="Ingrese su correo">
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Contraseña</label>
            <input type="password" class="form-control" id="password" placeholder="Ingrese su contraseña">
          </div>
          <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" id="rememberMe">
            <label class="form-check-label" for="rememberMe">No cerrar sesión</label>
          </div>
          <div class="d-flex justify-content-between">
            <a href="#">¿Olvidaste tu contraseña?</a>
            <button type="submit" class="btn btn-primary">Entrar</button>
          </div>
        </form>
      </div>

      <!-- Nuevos Clientes -->
      <div class="col-md-6 form-section">
        <h3 class="form-header">Nuevos Clientes</h3>
        <form onsubmit="registrarUsuario(); return false;">
          <div class="mb-3">
            <label for="registerEmail" class="form-label">E-mail</label>
            <input type="email" class="form-control" id="registerEmail" placeholder="Ingrese su correo">
          </div>
          <div class="mb-3">
            <label for="registerPassword" class="form-label">Contraseña</label>
            <input type="password" class="form-control" id="registerPassword" placeholder="Cree una contraseña">
          </div>
          <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirmar contraseña</label>
            <input type="password" class="form-control" id="confirmPassword" placeholder="Confirme su contraseña">
          </div>
          <div class="mb-3">
            <label for="firstName" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="firstName" placeholder="Ingrese su nombre">
          </div>
          <div class="mb-3">
            <label for="lastName" class="form-label">Apellido</label>
            <input type="text" class="form-control" id="lastName" placeholder="Ingrese sus apellidos">
          </div>
          <div class="mb-3">
            <label for="document" class="form-label">Documento</label>
            <div class="input-group">
              <select class="form-select" id="documentType">
                <option selected>CC</option>
                <option>CE</option>
              </select>
              <input type="text" class="form-control" id="document" placeholder="Número de documento">
            </div>
          </div>
          <div class="mb-3">
            <label for="birthdate" class="form-label">Fecha de nacimiento</label>
            <div class="input-group">
              <select class="form-select" id="year">
                <option selected>Año</option>
                <!-- Years will be populated dynamically -->
              </select>

              <select class="form-select" id="month">
                <option selected>Mes</option>
                <option value="1">Enero</option>
                <option value="2">Febrero</option>
                <option value="3">Marzo</option>
                <option value="4">Abril</option>
                <option value="5">Mayo</option>
                <option value="6">Junio</option>
                <option value="7">Julio</option>
                <option value="8">Agosto</option>
                <option value="9">Septiembre</option>
                <option value="10">Octubre</option>
                <option value="11">Noviembre</option>
                <option value="12">Diciembre</option>
              </select>

              <select class="form-select" id="day">
                <option selected>Día</option>
              </select>

              <script>
                // Populate the year dropdown
                document.addEventListener('DOMContentLoaded', function () {
                  const yearSelect = document.getElementById('year');
                  const currentYear = new Date().getFullYear();

                  for (let year = currentYear; year >= 1900; year--) {
                    const option = document.createElement('option');
                    option.value = year;
                    option.textContent = year;
                    yearSelect.appendChild(option);
                  }
                });

                // Function to update the days based on selected month and year
                function updateDays() {
                  const year = document.getElementById('year').value;
                  const month = document.getElementById('month').value;
                  const daySelect = document.getElementById('day');
                  daySelect.innerHTML = '<option selected>Día</option>'; // Reset days

                  if (month) {
                    const daysInMonth = new Date(year, month, 0).getDate(); // Calculate days in month

                    for (let day = 1; day <= daysInMonth; day++) {
                      const option = document.createElement('option');
                      option.value = day;
                      option.textContent = day < 10 ? `0${day}` : day; // Add leading zero for single digits
                      daySelect.appendChild(option);
                    }
                  }
                }

                // Event listeners to update days when month or year changes
                document.getElementById('month').addEventListener('change', updateDays);
                document.getElementById('year').addEventListener('change', updateDays);
              </script>


              <script>
                document.addEventListener('DOMContentLoaded', function () {
                  const yearSelect = document.getElementById('year');
                  const currentYear = new Date().getFullYear();

                  for (let year = currentYear; year >= 1800; year--) {
                    const option = document.createElement('option');
                    option.value = year;
                    option.textContent = year;
                    yearSelect.appendChild(option);
                  }
                });
              </script>

            </div>
          </div>
          <div class="mb-3">
            <label for="gender" class="form-label">Sexo</label>
            <select class="form-select" id="gender">
              <option selected>Seleccione</option>
              <option>Masculino</option>
              <option>Femenino</option>
              <option>Otro</option>
            </select>
          </div>
          <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="dataPolicy">
            <label class="form-check-label" for="dataPolicy">Acepto políticas y tratamiento de mis datos</label>
          </div>
          <button type="submit" class="btn btn-primary">Registrarse</button>
        </form>
      </div>

    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <p>theFitStep.COM</p>
    <p>Visítanos: Av 3 #16-52, Cabos, Cúcuta - Norte de Santander</p>
    <p>Llámanos: 3004371955</p>
    <div>
      <a href="#">Enlace 1</a> |
      <a href="#">Enlace 2</a> |
      <a href="#">Enlace 3</a> |
      <a href="#">Enlace 4</a>
    </div>
    <p>&copy; 2024 Todo.Deporte - Todos los derechos reservados.</p>
  </footer>

  <!-- Bootstrap JS y dependencias -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Script de registro e inicio de sesión -->
  <script>

    function registrarUsuario() {
      const formData = {
        email: document.getElementById('registerEmail').value,
        contrasena: document.getElementById('registerPassword').value,
        nombre: document.getElementById('firstName').value,
        apellido: document.getElementById('lastName').value,
        tipo_cedula: document.getElementById('documentType').value,
        cedula: document.getElementById('document').value,
        fecha_nacimiento: `${document.getElementById('year').value}-${document.getElementById('month').value}-${document.getElementById('day').value}`,
        sexo: document.getElementById('gender').value,
        acepto_politicas: document.getElementById('dataPolicy').checked
      };

      fetch('http:/localhost:8080/api/usuario', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      })
        .then(response => response.text())
        .then(message => alert(message))
        .catch(error => console.error('Error:', error));
    }

    function iniciarSesion() {
      const credentials = {
  
        email: document.getElementById('email').value,
              contrasena: document.getElementById('password').value
      };

      fetch('http:/localhost:8080/api/iniciar', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(credentials)
      })
        .then(response => response.text())
        .then(message => alert(message))
        .catch(error => console.error('Error:', error));
    }

  </script>
</body>

</html>